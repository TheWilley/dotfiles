# Manual Setup Instructions for a Linux Mint Installation

> [!NOTE]  
> This SETUP file was generated by [Gemini](https://gemini.google.com) based on a [deprecated setup script](https://github.com/TheWilley/dotfiles/tree/56d8b61802266c168f390657af957ef538a54153). Some amount of the text has been manually modified. The instructions has been thoroughly tested.

These instructions guide you through setting up my dotfiles for a Linux Mint installation. Its important to note that every system is _personal_, and that this perticular configuration works best for my use cases. You can use this repo as a baseline or as insparation if you wish.

The system can be broadly summarized as:

- **Web Browsing:** Vivaldi
- **Music Streaming:** Spotify
- **Code Editing/Development:** VS Code
- **Note-Taking/Knowledge Management:** Obsidian
- **Desktop Environment/Window Management:** i3, polybar, rofi (These work together to provide the windowing system and user interface)
- **System Utilities:** gnome-terminal (terminal emulator), scrot (screenshot utility), i3lock-color (screen locker), imagemagick (image manipulation), flatpak (package manager)
- **Backups** Using restic and the S3 API

## 1. Update and Upgrade Existing Packages

```bash
sudo apt update && sudo apt upgrade -y
```

## 2. Set up Package Repositories

- **Vivaldi:**

```bash
wget -qO- https://repo.vivaldi.com/archive/linux_signing_key.pub | sudo gpg --dearmor | sudo dd of=/usr/share/keyrings/vivaldi-browser.gpg &&
echo "deb [signed-by=/usr/share/keyrings/vivaldi-browser.gpg arch=$(dpkg --print-architecture)] https://repo.vivaldi.com/archive/deb/ stable main" | sudo tee /etc/apt/sources.list.d/vivaldi-archive.list
```

- **Spotify:**

```bash
curl -sS https://download.spotify.com/debian/pubkey_C85668DF69375001.gpg | sudo gpg --dearmor --yes -o /etc/apt/trusted.gpg.d/spotify.gpg &&
echo "deb http://repository.spotify.com stable non-free" | sudo tee /etc/apt/sources.list.d/spotify.list
```

- **VS Code:**

```bash
sudo apt-get install -y software-properties-common dirmngr apt-transport-https lsb-release ca-certificates &&
wget -qO- https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor > packages.microsoft.gpg &&
sudo install -D -o root -g root -m 644 packages.microsoft.gpg /etc/apt/keyrings/packages.microsoft.gpg &&
echo "deb [arch=amd64,arm64,armhf signed-by=/etc/apt/keyrings/packages.microsoft.gpg] https://packages.microsoft.com/repos/code stable main" | sudo tee /etc/apt/sources.list.d/vscode.list > /dev/null &&
rm -f packages.microsoft.gpg
```

## 3. Install Essential Applications

```bash
sudo apt update &&
sudo apt install -y wget gnome-terminal imagemagick gpg curl flatpak rsync jq apt-transport-https vivaldi-stable spotify-client code git
```

## 4. Install i3 and Related Tools

```bash
sudo apt install -y i3 polybar rofi scrot
```

### 4.1. Setup i3lock-color

```bash
sudo apt install -y autoconf gcc make pkg-config libpam0g-dev libcairo2-dev libfontconfig1-dev libxcb-composite0-dev libev-dev libx11-xcb-dev libxcb-xkb-dev libxcb-xinerama0-dev libxcb-randr0-dev libxcb-image0-dev libxcb-util-dev libxcb-xrm-dev libxkbcommon-dev libxkbcommon-x11-dev libjpeg-dev &&
cd /tmp &&
git clone https://github.com/Raymo111/i3lock-color.git &&
cd i3lock-color &&
./install-i3lock-color.sh &&
sudo mv build/i3lock /usr/local/bin/i3lock &&
rm -rf /tmp/i3lock-color &&
cd
```

## 5. Install Flatpak Packages

```bash
flatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo &&
flatpak install flathub md.obsidian.Obsidian com.github.tchx84.Flatseal -y
```

## 6. Install Dotfiles

```bash
git clone --separate-git-dir=$HOME/.dotfiles https://github.com/TheWilley/dotfiles.git tmpdotfiles &&
rsync --recursive --verbose --exclude '.git' tmpdotfiles/ $HOME/ &&
rm -r tmpdotfiles
```

## 7. Setup crontab

```bash
crontab ~/.config/cron/crontab
```

## 8. Configure Git

```bash
git config --global user.name "your_github_username"  # Replace with your GitHub username
git config --global user.email "your_github_email" # Replace with your GitHub email

# Generate SSH Key (if one doesn't exist)
if [ ! -f "$HOME/.ssh/id_ed25519" ]; then
  ssh-keygen -t ed25519 -b 4096 -C "your_github_email" -f "$HOME/.ssh/id_ed25519" # Replace with your GitHub email
fi

# Add SSH Key to SSH Agent
eval "$(ssh-agent -s)"
ssh-add "$HOME/.ssh/id_ed25519"

# Display Public Key (for GitHub)
cat "$HOME/.ssh/id_ed25519.pub"
```

**IMPORTANT:** Copy the _entire_ output of the `cat` command above (your public SSH key).

### 8.1. Add SSH Key to GitHub

- Go to your GitHub settings: [https://github.com/settings/keys](https://github.com/settings/keys)
- Click "New SSH key" or "Add SSH key".
- Paste the copied public key.
- Give the key a descriptive title.
- Click "Add SSH key".

### 8.2. Verify SSH Connection

```bash
ssh -T git@github.com
```

## 9 Configure restic

```
cd ~/.restic \
mv restic.env.example restic.env \
rm resic.env.example
```

Change the values in `restic.env` afterwards.

## 10 Reboot

```bash
reboot
```

Select "i3" as your desktop environment when Linux Mint starts
